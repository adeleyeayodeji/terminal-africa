{"version":3,"file":"dashboard.js","mappings":"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","sources":["webpack://terminal-africa/./src/components/Loader.js","webpack://terminal-africa/./src/components/TerminalPhoneBook.js","webpack://terminal-africa/./src/scss/terminal-phonebook.scss?85c1","webpack://terminal-africa/external window \"React\"","webpack://terminal-africa/external window \"ReactDOM\"","webpack://terminal-africa/external window [\"wp\",\"components\"]","webpack://terminal-africa/external window [\"wp\",\"element\"]","webpack://terminal-africa/webpack/bootstrap","webpack://terminal-africa/webpack/runtime/compat get default export","webpack://terminal-africa/webpack/runtime/define property getters","webpack://terminal-africa/webpack/runtime/hasOwnProperty shorthand","webpack://terminal-africa/webpack/runtime/make namespace object","webpack://terminal-africa/./src/dashboard.js"],"sourcesContent":["import { Spinner } from \"@wordpress/components\";\nimport { Component } from \"react\";\n\n/**\n * Terminal Loader\n */\nclass TerminalLoader extends Component {\n  constructor(props) {\n    super(props);\n  }\n  state = {};\n  render() {\n    return (\n      <div className=\"t-center\" style={{ padding: 10 }}>\n        <Spinner />\n        <p>\n          <strong>Loading...</strong>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default TerminalLoader;\n","import React, { Component } from \"react\";\nimport {\n  Modal,\n  SearchControl,\n  __experimentalScrollable as Scrollable,\n  Spinner,\n  Snackbar,\n  __experimentalItemGroup as ItemGroup,\n  __experimentalItem as Item\n} from \"@wordpress/components\";\n\nimport \"./../scss/terminal-phonebook.scss\";\nimport TerminalLoader from \"./Loader\";\n\n/**\n * Terminal Phone Book\n */\nclass TerminalPhoneBook extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      closeModal: false,\n      search: \"\",\n      addressBook: [],\n      isLoading: true,\n      isLoadingNew: false,\n      scrolledToBottom: false,\n      defaultPage: 1,\n      nextPageisAvailable: false\n    };\n  }\n\n  /**\n   * componentDidMount\n   */\n  componentDidMount() {}\n\n  /**\n   * componentDidUpdate\n   */\n  componentWillUnmount() {}\n\n  /**\n   * Get phone book\n   */\n  getAddressBook = () => {\n    //ajax\n    jQuery(document).ready(($) => {\n      //ajax\n      $.ajax({\n        type: \"GET\",\n        url: terminal_africa.ajax_url,\n        data: {\n          action: \"terminal_africa_get_address_book\",\n          nonce: terminal_africa.nonce,\n          page: this.state.defaultPage,\n          search: this.state.search\n        },\n        dataType: \"json\",\n        beforeSend: () => {\n          //check if search is not empty\n          if (this.state.search !== \"\") {\n            //loading state\n            this.setState({ isLoading: true });\n          } else {\n            //set state\n            this.setState({ isLoadingNew: true });\n          }\n        },\n        success: (response) => {\n          //hasnextpage\n          var hasNextPage = response.data.pagination.hasNextPage;\n          //parse to bool\n          hasNextPage = Boolean(hasNextPage);\n          //check if the response code is 200\n          if (response.code === 200) {\n            //check if search is not empty\n            if (this.state.search !== \"\") {\n              //clear the previous address book data\n              this.setState({ addressBook: [] });\n            }\n            //set state\n            this.setState({\n              addressBook: [\n                ...this.state.addressBook,\n                ...response.data.addresses\n              ],\n              isLoading: false,\n              isLoadingNew: false,\n              nextPageisAvailable: hasNextPage\n            });\n          } else {\n            //set state\n            this.setState({\n              isLoading: false,\n              nextPageisAvailable: false,\n              isLoadingNew: false\n            });\n          }\n        },\n        error: (xhr, status, error) => {\n          //show gutenberg toast\n          try {\n            wp.data\n              .dispatch(\"core/notices\")\n              .createNotice(\"success\", \"Error: \" + xhr.responseText, {\n                type: \"snackbar\",\n                isDismissible: true\n              });\n          } catch (error) {}\n        }\n      });\n    });\n  };\n\n  handleScroll = (e) => {\n    const scrollableDiv = e.target;\n    //round up scroll\n    var totalScroll = scrollableDiv.scrollTop + scrollableDiv.clientHeight;\n    totalScroll = Math.ceil(totalScroll);\n    if (totalScroll >= scrollableDiv.scrollHeight) {\n      this.setState({\n        scrolledToBottom: true,\n        defaultPage: this.state.defaultPage + 1\n      });\n      //check if has hasNextPage\n      if (this.state.nextPageisAvailable) {\n        //get address book\n        this.getAddressBook();\n      }\n    } else {\n      this.setState({ scrolledToBottom: false });\n    }\n  };\n\n  /**\n   * showModal\n   * @returns {void}\n   */\n  showModal = (event) => {\n    //prevent default\n    event.preventDefault();\n    //show alert dialog\n    this.setState({ showModal: true });\n    //get phone book\n    this.getAddressBook();\n  };\n\n  /**\n   * Close the modal\n   * @returns {void}\n   */\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  /**\n   * Handle Change\n   * @returns {void}\n   */\n  handleChange = (value) => {\n    //update state\n    this.setState({ search: value, defaultPage: 1 });\n    //check if not empty string\n    if (value !== \"\") {\n      //search the server\n      this.getAddressBook();\n    }\n  };\n\n  /**\n   * Handle Item Click\n   * @returns {void}\n   */\n  handleItemClick = (event) => {\n    //prevent default\n    event.preventDefault();\n    //get address id\n    var addressId = event.currentTarget.getAttribute(\"data-address-id\");\n    //search for address where address id\n    var address = this.state.addressBook.find(\n      (address) => address.address_id === addressId\n    );\n\n    //check if address exist\n    if (!address) {\n      //show gutenberg toast\n      try {\n        wp.data\n          .dispatch(\"core/notices\")\n          .createNotice(\"success\", \"Address not found\", {\n            type: \"snackbar\",\n            isDismissible: true\n          });\n      } catch (error) {}\n      return;\n    }\n\n    //set address\n    /////////////////////\n\n    jQuery(document).ready(($) => {\n      const $tbody = $(\".t-body\");\n      // update first name\n      $tbody.find('input[name=\"first_name\"]').val(address.first_name);\n      //update p#t_first_name\n      $tbody.find(\"#t_first_name\").text(address.first_name);\n      // update last name\n      $tbody.find('input[name=\"last_name\"]').val(address.last_name);\n      //update p#t_last_name\n      $tbody.find(\"#t_last_name\").text(address.last_name);\n      // update email\n      $tbody.find('input[name=\"email\"]').val(address.email);\n      //update p#t_email\n      $tbody.find(\"#t_email\").text(address.email);\n      // update phone\n      $tbody.find('input[name=\"phone\"]').val(address.phone);\n      //update p#t_phone\n      $tbody.find(\"#t_phone\").text(address.phone);\n      // update line_1\n      $tbody.find('input[name=\"line_1\"]').val(address.line1);\n      //update p#t_address\n      $tbody.find(\"#t_address\").text(address.line1 + \" \" + address.line2);\n      // update line_2\n      $tbody.find('input[name=\"line_2\"]').val(address.line2);\n      // update zip_code\n      $tbody.find('input[name=\"zip_code\"]').val(address.zip);\n      //check if input element with name 'address_id' exist\n      if ($tbody.find('input[name=\"address_id\"]').length) {\n        //update address_id\n        $tbody.find('input[name=\"address_id\"]').val(address.address_id);\n      } else {\n        //create input element\n        var input = $(\"<input>\")\n          .attr(\"type\", \"hidden\")\n          .attr(\"name\", \"address_id\")\n          .val(address.address_id);\n        //append to form\n        $tbody.find(\"form\").append($(input));\n      }\n      // update zip_code\n      $tbody.find('input[name=\"zip_code\"]').val(address.zip);\n\n      //close modal\n      this.closeModal();\n\n      //remove all city options\n      $tbody\n        .find('select[name=\"lga\"] option')\n        .remove()\n        .trigger(\"select2.change\");\n\n      // update select2 country\n      const countrySelect = $tbody.find('select[name=\"country\"]');\n      countrySelect.val(address.country);\n      //trigger event\n      countrySelect.trigger(\"change\");\n    });\n  };\n\n  render() {\n    let {\n      showModal,\n      search,\n      isLoading,\n      addressBook,\n      scrolledToBottom,\n      isLoadingNew\n    } = this.state;\n    //return view\n    return (\n      <>\n        {showModal && (\n          <Modal title=\"Terminal Address Book\" onRequestClose={this.closeModal}>\n            <div className=\"t-phonebook-modal\">\n              <div className=\"t-phonebook-area\">\n                <div className=\"t-input-container\">\n                  <SearchControl\n                    label=\"Search Address Book\"\n                    placeholder=\"Search Address Book\"\n                    className=\"t-phonebook-search\"\n                    value={search}\n                    onChange={(v) => this.handleChange(v)}\n                  />\n                </div>\n                <div className=\"t-scroll-area\">\n                  <Scrollable\n                    style={{ maxHeight: 200 }}\n                    smoothScroll={true}\n                    onScroll={this.handleScroll}\n                    className=\"t-scroll-area-div\">\n                    <div style={{ maxHeight: 500 }}>\n                      {isLoading ? (\n                        <TerminalLoader />\n                      ) : (\n                        <>\n                          <ItemGroup>\n                            {addressBook.map((item, index) => {\n                              return (\n                                <Item\n                                  key={index}\n                                  className=\"t-phonebook-item\"\n                                  data-address-id={item.address_id}\n                                  onClick={this.handleItemClick}>\n                                  <div className=\"t-phonebook-item-content\">\n                                    <div className=\"t-phonebook-item-name\">\n                                      {item.first_name} {item.last_name}\n                                    </div>\n                                    <div className=\"t-phonebook-item-sub\">\n                                      {item.city}, {item.state}, {item.country}\n                                    </div>\n                                    <div className=\"t-phonebook-item-phone\">\n                                      {item.line1}\n                                    </div>\n                                  </div>\n                                </Item>\n                              );\n                            })}\n                          </ItemGroup>\n                          {scrolledToBottom && (\n                            <div className=\"t-phonebook-scrolled-to-bottom-message\">\n                              {isLoadingNew ? (\n                                <TerminalLoader />\n                              ) : (\n                                <>You've reached the end of the list.</>\n                              )}\n                            </div>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  </Scrollable>\n                </div>\n              </div>\n            </div>\n          </Modal>\n        )}\n        <button className=\"t-phonebook\" onClick={this.showModal}>\n          <i className=\"fa fa-address-book\" ariaHidden=\"true\"></i> Import\n          Address\n        </button>\n      </>\n    );\n  }\n}\n\nexport default TerminalPhoneBook;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport TerminalPhoneBook from \"./components/TerminalPhoneBook\";\n//on document ready\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  //load the terminal phonebook button\n  const terminalPhoneBookDiv = document.getElementById(\"t-phonebook-container\");\n  //check if element exist\n  if (terminalPhoneBookDiv) {\n    ReactDOM.render(<TerminalPhoneBook />, terminalPhoneBookDiv);\n  }\n});\n"],"names":["Spinner","Component","TerminalLoader","constructor","props","state","render","createElement","className","style","padding","React","Modal","SearchControl","__experimentalScrollable","Scrollable","Snackbar","__experimentalItemGroup","ItemGroup","__experimentalItem","Item","TerminalPhoneBook","showModal","closeModal","search","addressBook","isLoading","isLoadingNew","scrolledToBottom","defaultPage","nextPageisAvailable","componentDidMount","componentWillUnmount","getAddressBook","jQuery","document","ready","$","ajax","type","url","terminal_africa","ajax_url","data","action","nonce","page","dataType","beforeSend","setState","success","response","hasNextPage","pagination","Boolean","code","addresses","error","xhr","status","wp","dispatch","createNotice","responseText","isDismissible","handleScroll","e","scrollableDiv","target","totalScroll","scrollTop","clientHeight","Math","ceil","scrollHeight","event","preventDefault","handleChange","value","handleItemClick","addressId","currentTarget","getAttribute","address","find","address_id","$tbody","val","first_name","text","last_name","email","phone","line1","line2","zip","length","input","attr","append","remove","trigger","countrySelect","country","Fragment","title","onRequestClose","label","placeholder","onChange","v","maxHeight","smoothScroll","onScroll","map","item","index","key","onClick","city","ariaHidden","ReactDOM","addEventListener","terminalPhoneBookDiv","getElementById"],"sourceRoot":""}